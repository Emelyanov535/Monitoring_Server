# Проект Server Monitoring

Проект **Server Monitoring** представляет собой набор серверов на базе фреймворка Spring. Он предназначен для мониторинга доступности серверов.

## Как использовать

1. **Регистрация пользователя**

    Для начала работы с системой необходимо зарегистрировать пользователя. Для этого отправьте POST запрос на `/user/registration`, передав параметры `username` и `password`. Это создаст нового пользователя в системе.

2. **Аутентификация и получение токена**

    Чтобы выполнить операции в системе, вам нужно будет получить токен аутентификации. Отправьте POST запрос на `/user/auth`, передав параметры `username` и `password`. В ответ вы получите токен, который будет использоваться для дальнейших запросов.

3. **Использование Telegram-бота**

    Добавьте [@ServerAvailabilityMonitoringBot](https://t.me/ServerAvailabilityMonitoringBot) в ваш канал или группу.

4. **Добавление канала для уведомлений (требуется токен)**

    После регистрации и аутентификации пользователя, вы можете добавить канал для уведомлений. Отправьте POST запрос на `/user/addChannel`, передав `chatId` вашего Telegram канала или группы. Это свяжет ваш канал с системой мониторинга.

5. **Управление правилами мониторинга (требуется токен)**

    - **Добавление правила:** Отправьте POST запрос на `/rules/addRule`, передав параметры `url`, `intervalSeconds` и `expectedStatusCode`. Это добавит новое правило мониторинга.
    - **Удаление правила:** Отправьте DELETE запрос на `/rules/delete/{id}`, где `{id}` - идентификатор правила. Это удалит указанное правило мониторинга.
    - **Включение/выключение правила:** Отправьте PUT запрос на `/rules/switch/{id}`, где `{id}` - идентификатор правила. Это включит или выключит указанное правило мониторинга.
    - **Получение списка правил:** Отправьте GET запрос на `/rules/getList`. Это вернет список всех правил мониторинга.

## Описание архитектуры

Проект состоит из двух модулей:

1. **test_server**

    Этот модуль содержит тестовый сервер с двумя контроллерами:
    
    - `Controller`: Предоставляет точку доступа `/get`, которая возвращает "Hello World!!!" с текущим статусом. Статус изменяется автоматически через определенные промежутки времени.
    - `ControllerTwo`: Предоставляет точку доступа `/getHello`, которая также возвращает "Hello World!!!" с текущим статусом. Статус также изменяется автоматически через определенные промежутки времени.

2. **demo**

    Этот модуль содержит приложение для мониторинга серверов. Оно включает в себя контроллеры для управления правилами мониторинга и аутентификацию пользователей через токены.
    
    - `MonitoringController`: Контроллер для управления правилами мониторинга.
    - `UserController`: Контроллер для аутентификации пользователей и управления их каналами для уведомлений.
